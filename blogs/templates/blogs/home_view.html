{% extends "mysite/base_site.html" %}

{% block content %}



<div class="header2">
	<ul>
		<li><a href="{% url 'add-blog' %}">Add...</a></li>
	</ul>
</div>


<div class="content" >
<h1> Blog </h1>
<ul>




{% for blog in object_list %} 

	{% if is_paginated %} 

		<h2> Pagination</h2>

	{% endif %}

	{% if user.is_authenticated %}
	<ul>
		<li><a href="{% url 'blog-detail-view' blog.pk %}"><h1>{{ blog.title }}</h1> </a>
		<li><a href="{% url 'update-blog'  blog.pk %}">Edit...</a></li>
		<li><a href="{% url 'delete-blog'  blog.pk %}">Delete...</a></li>
	</ul>
	{% endif %} 

	<br/>
	

	<div class="blogimage">
	{% if blog.image %}
		<img src={{ blog.image.url }} height=200 width=auto>
	
	{% endif %}
	</div>
	<br>


	<div class="blog"> 
		{% if blog.description %}
			<h3>Description {{ blog.description }} </h3>
		{% endif %}	

		{{ blog.content|safe }} 

		{% if blog.url %}
		<a href="{{ blog.url }}">Link</a>
		{% endif %}	
		<br>

		
		{% if blog.signature %}
		{{ blog.signature }}

		
		{% elif blog.author %}
		{{ blog.author }}
		{% endif %}
		
		
		<p> <i>{{ blog.updated_at }} </i> </p>
	</div> <!-- blog -->
	</li>
	<br>

	{% endfor %}

	{% if is_paginated %}
  <ul class="pagination">
    {% if page_obj.has_previous %}
      <li><a href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
    {% else %}
      <li class="disabled"><span>&laquo;</span></li>
    {% endif %}
    {% for i in paginator.page_range %}
      {% if page_obj.number == i %}
        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
      {% else %}
        <li><a href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
    {% endfor %}
    {% if page_obj.has_next %}
      <li><a href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
    {% else %}
      <li class="disabled"><span>&raquo;</span></li>
		</ul>
    {% endif %}


{% endif %}
</ul>

</div> 




{% endblock %}

